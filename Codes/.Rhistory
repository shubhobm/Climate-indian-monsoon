install.packages("MuMIn")
rm(list=ls())
#setwd("\\\\dfs.com/root/Dept-Decision/Dept-Users/Majumdar/Rain")
setwd('C:/Study/My projects/Climate-indian monsoon')
source('misc_functions.R')
library(rrcov)
library(fda.usc)
library(lme4)
library(MuMIn)
# read in data
rain = read.csv("rain_1973_2013_test.csv")
rainsmall = with(rain, data.frame(cbind(PRCP,
LATITUDE, LONGITUDE, ELEVATION, TMAX, TMIN,
del_TT_Deg_Celsius, DMI, Nino34,
Air_200_Temp, Air_600_Temp,
u_wind_200, u_wind_600, u_wind_850,
v_wind_200, v_wind_600, v_wind_850)))
rainsmall1 = aggregate(PRCP ~ year+STATION_NAME, data=rain, FUN=median)
rainsmall2 = aggregate(cbind(LATITUDE, LONGITUDE, ELEVATION, TMAX, TMIN,
del_TT_Deg_Celsius, DMI, Nino34,
u_wind_200, u_wind_850,
v_wind_200, v_wind_850) ~ year+STATION_NAME,
data=rain, FUN=median)
rainsmall = cbind(rainsmall1, rainsmall2)
rainsmall[,4:5] = list(NULL)
rm(rainsmall1, rainsmall2)
rain = read.csv("../data/rain_1973_2013_test.csv")
getwd()
setwd('C:/Study/My projects/Climate-indian monsoon/Codes')
rain = read.csv("../data/rain_1973_2013_test.csv")
source('misc_functions.R')
rainsmall = with(rain, data.frame(cbind(PRCP,
LATITUDE, LONGITUDE, ELEVATION, TMAX, TMIN,
del_TT_Deg_Celsius, DMI, Nino34,
Air_200_Temp, Air_600_Temp,
u_wind_200, u_wind_600, u_wind_850,
v_wind_200, v_wind_600, v_wind_850)))
rainsmall1 = aggregate(PRCP ~ year+STATION_NAME, data=rain, FUN=median)
rainsmall2 = aggregate(cbind(LATITUDE, LONGITUDE, ELEVATION, TMAX, TMIN,
del_TT_Deg_Celsius, DMI, Nino34,
u_wind_200, u_wind_850,
v_wind_200, v_wind_850) ~ year+STATION_NAME,
data=rain, FUN=median)
rainsmall = cbind(rainsmall1, rainsmall2)
rainsmall[,4:5] = list(NULL)
rm(rainsmall1, rainsmall2)
varnames = names(rainsmall)[-(1:3)]
formula = paste(varnames, collapse="+")
formula = as.formula(paste("log(PRCP+1) ~", formula, "+ (1|year)"))
mod.full = lmer(formula, data=rainsmall)
summary(mod.full)
anova(mod.full)
r.squaredGLMM(mod.full)
formula = paste(varnames[c(2:4,6:8,11,12)], collapse="+")
formula = as.formula(paste("log(PRCP+1) ~", formula, "+ (1|year)"))
mod.final = lmer(formula, data=rainsmall)
summary(mod.final)
anova(mod.final)
r.squaredGLMM(mod.final)
anova(mod.final, mod.full)
read.table('allmedian.txt')
require(TeachingDemos)
install.packages("TeachingDemos")
txtStart('log_modselect_monsoon.txt')
library("TeachingDemos")
txtStart('log_modselect_monsoon.txt')
read.table('allmedian.txt')
summary(mod.final)
anova(mod.final)
r.squaredGLMM(mod.final)
anova(mod.final, mod.full)
txtStop()
